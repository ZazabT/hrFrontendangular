<div class="p-4">

  <!-- Heading -->
  <div class="flex justify-between items-center mb-8 p-6 ">
    <!-- Header Title and Description -->
    <div class="space-y-2">
      <h1 class="text-3xl font-bold text-gray-800 tracking-tight">Departments</h1>
      <p class="text-gray-600 text-sm md:text-base">View and manage your department records efficiently</p>
    </div>

    <!-- Add Department Button -->
    <button (click)="openModal()" 
      class="flex items-center gap-2 bg-lime-800 text-white px-5 py-2.5 rounded-lg shadow-md hover:bg-lime-900 focus:ring-4 focus:ring-lime-300 transition duration-200 ease-in-out">
      <mat-icon class="text-lg">add</mat-icon>
      <span class="font-medium">Add Department</span>
    </button>
  </div>
  
  <mat-form-field appearance="fill" class="w-full mb-4">
    <mat-label>Filter</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Search departments..." class="w-full">
  </mat-form-field>

  <!-- Table -->
  <div class="relative min-h-[200px] max-h-[calc(100vh-300px)] overflow-auto rounded-xl shadow-lg bg-white">
    <table mat-table [dataSource]="dataSource" matSort class="w-full shadow-lg">
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-100 p-4 font-bold">ID</th>
        <td mat-cell *matCellDef="let element" class="p-4">{{element.id}}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-100 p-4 font-bold">Name</th>
        <td mat-cell *matCellDef="let element" class="p-4">{{element.name}}</td>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="departmentDescription">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-500 p-4 font-bold">Description</th>
        <td mat-cell *matCellDef="let element" class="p-4">{{element.departmentDescription}}</td>
      </ng-container>

      <!-- Created At Column -->
      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-100 p-4 font-bold">Created At</th>
        <td mat-cell *matCellDef="let element" class="p-4">{{element.createdAt | date}}</td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="bg-gray-100 p-4 font-bold">Actions</th>
        <td mat-cell *matCellDef="let element" class="p-4">
          <button mat-icon-button class="text-blue-600 hover:text-blue-800">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button class="text-red-600 hover:text-red-800">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="border-b"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-50 border-b"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons class="bg-white sticky bottom-0"></mat-paginator>
  </div>

  <!-- Modal -->
  <div *ngIf="isModalOpen" class="fixed inset-0  bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg w-full max-w-md">
      <h2 class="text-xl font-bold mb-4">Add New Department</h2>
            <mat-form-field>
              <mat-label>Input</mat-label>
              <input matInput>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Textarea</mat-label>
              <textarea matInput></textarea>
            </mat-form-field>
      <div class="flex justify-end gap-2 mt-4">
        <button mat-button (click)="closeModal()" 
          class="px-4 py-2 text-gray-600 hover:text-gray-800">
          Cancel
        </button>
        <button mat-raised-button color="primary" (click)="addDepartment()"
          class="px-4 py-2 bg-lime-900 text-white rounded hover:bg-lime-900">
          Save
        </button>
      </div>
    </div>
  </div>

</div>